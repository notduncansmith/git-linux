<!doctype html>
<html>
  <head>
    <title>Hello from AppJS</title>
    <link rel="stylesheet" href="./stylesheets/style.css">
  </head>
  <body>
    <h1>Hello World</h1>
    <fieldset>
      <legend>Madison</legend>
      <input type="text" data-current="userName">
      <input type="text" data-current="bio">
      <h1 data-current="userName"><strong>{{userName}}</strong></h1>
      <p data-current="bio">{{bio}}</p>
    </fieldset>
<br>
<br>
    <div data-current="posts">
      {{#posts}}
      {{#.}}
      <hr>
      <article data-id="{{id}}">
        <h1 data-{{id}}="title">{{title}}</h1>
        <em>by {{author}}</em>
        <p data-{{id}}="content">{{content}}</p>
        <a href="#" class="edit">Edit this post</a>
        <input type="text" data-{{id}}="title" class="edit">
        <input type="text" data-{{id}}="content" class="edit">
      </article>
      <hr>
      {{/.}}
      {{/posts}}
    </div>

  </body>
    <script src="./javascripts/jquery.min.js"></script>
    <script src="./javascripts/app.js"></script>
    <script src="./javascripts/mustache.js"></script>
    <script src="./javascripts/lookout.js"></script>
    <script>
      $(document).ready(function(){
        Lookout.init(options);



        Lookout.update(Lookout.models.current, 'posts', Lookout.models.current.posts);
        $("[data-id]").each(function(index, item){
          $('[data-' + $(this).data('id') + ']').each(function(index, item){
            $(item).data('view', '{{' + $(item).data($(item).parent().data('id')) + '}}')
          })
          Lookout.watch(Lookout.models[$(this).data("id")])
        })



        $('input.edit').hide();

        $('a.edit').click(function(e){
          e.preventDefault();
          $('input.edit').toggle();
        })
      })
    </script>
</html>
